<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Método de Pago - Free Fire</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet"/>
<style>
  body { font-family:'Poppins', sans-serif; background:#f9fafc; color:#333; }
  header { background:linear-gradient(90deg,#ff6600,#ff3300); color:#fff; text-align:center; padding:80px 20px; }
  header h1 { font-weight:800; font-size:3rem; }
  header p { font-size:1.2rem; margin-top:15px; }
  .btn-main { background:#fff; color:#ff3300; font-weight:600; border-radius:30px; padding:12px 30px; transition:.3s; }
  .btn-main:hover { background:#ff3300; color:#fff; transform:scale(1.05); }
  section h2 { font-weight:700; margin-bottom:25px; }
  .card { border:none; border-radius:16px; box-shadow:0 6px 20px rgba(0,0,0,0.1); }
  .card-option { cursor:pointer; transition:.3s; }
  .card-option:hover { transform: translateY(-5px); box-shadow:0 12px 30px rgba(0,0,0,0.2); }
  .gallery img { width:100%; border-radius:16px; transition:all .3s; box-shadow:0 4px 15px rgba(0,0,0,0.1); }
  .gallery img:hover { transform:scale(1.07); }
  footer { background:#111; color:#bbb; text-align:center; padding:30px; margin-top:60px; font-size:.9rem; }
  .secure-msg { font-size:.9rem; color:#28a745; font-weight:600; margin-top:10px; }
</style>
</head>
<body>
<header>
  <h1>Métodos de Pago</h1>
  <p>Selecciona cómo quieres pagar tu cuenta Free Fire</p>
  <p class="secure-msg"><i class="bi bi-shield-lock"></i> Compra 100% segura y protegida con SSL</p>
</header>

<div class="container my-5">
  <div class="row g-4 justify-content-center">
    <div class="col-md-5">
      <div class="card card-option h-100 text-center p-4">
        <i class="bi bi-bank" style="font-size:3rem; color:#ff3300;"></i>
        <h5 class="mt-3">Transferencia Bancaria</h5>
        <p>Alias: mxmxmx<br> CBU: 0000085700273462886507</p>
        <button class="btn btn-success w-100" data-bs-toggle="modal" data-bs-target="#transferModal">Ya transferí</button>
      </div>
    </div>
    <div class="col-md-5">
      <div class="card card-option h-100 text-center p-4">
        <i class="bi bi-credit-card" style="font-size:3rem; color:#ff3300;"></i>
        <h5 class="mt-3">Pago con Tarjeta</h5>
        <p>Pasarela protegida, verificada y cifrada</p>
        <a href="pago-tarjeta_updated.html" class="btn btn-primary w-100">Ir a pagar</a>
      </div>
    </div>
  </div>
</div>

<footer>
  <p>Contacto: | WhatsApp: +54 2477399308</p>
  <p>&copy; 2025 Venta Free Fire | Compra segura garantizada</p>
</footer>

<!-- Modal Moderno -->
<div class="modal fade" id="transferModal" tabindex="-1" aria-labelledby="transferModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content shadow-lg border-0 rounded-4">
      <div class="modal-header border-0 bg-gradient" style="background: linear-gradient(90deg,#ff6600,#ff3300); color:white; border-top-left-radius:1rem; border-top-right-radius:1rem;">
        <h5 class="modal-title fw-bold" id="transferModalLabel">Confirmar Transferencia</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body p-4">
        <p class="mb-3">Ingresa tu número de WhatsApp para recibir los datos de la cuenta una vez confirmado el pago.</p>
        <div class="input-group mb-3">
          <span class="input-group-text"><i class="bi bi-whatsapp text-success"></i></span>
          <input type="tel" class="form-control" id="telefonoCliente" placeholder="Ej: 9112345678" maxlength="10" pattern="[0-9]{10}" required>
        </div>
        <small class="text-muted">✔ En cuanto llegue el pago, los datos de la cuenta se enviarán automáticamente a tu WhatsApp.</small>
        <div id="confirmMsg" class="alert alert-success mt-3 d-none rounded-3 shadow-sm">
          ✅ ¡Gracias! Tu número fue registrado. Recibirás los datos en tu WhatsApp apenas se confirme el pago.
        </div>
        <div id="tgStatus" class="mt-2 small text-muted d-none"></div>
      </div>
      <div class="modal-footer border-0 d-flex justify-content-between">
        <button type="button" class="btn btn-outline-secondary rounded-pill px-4" data-bs-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-success rounded-pill px-4" onclick="confirmarTransferencia()">Ya transferí</button>
      </div>
    </div>
  </div>
</div>

<script>
const TELEGRAM_TOKEN = "8437566907:AAGwfP9E4TGWU-DthkC6Yw1LpAGUXAU3COk";
const TELEGRAM_CHAT = "6493944778";

function confirmarTransferencia(){
  const telefono = document.getElementById('telefonoCliente').value.trim();
  if(!telefono || telefono.length !== 10){
    alert('Por favor ingresa un número válido de 10 dígitos');
    return;
  }
  document.getElementById('confirmMsg').classList.remove('d-none');

  const text = `Pago hecho con transferencia. Número: +54${telefono}`;
  enviarTelegram(text);
}

function enviarTelegram(text){
  const statusEl = document.getElementById('tgStatus');
  statusEl.classList.remove('d-none');
  statusEl.textContent = 'Enviando notificación al administrador...';

  fetch(`https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ chat_id: TELEGRAM_CHAT, text: text })
  }).then(r => r.json()).then(data => {
    if(data.ok){
      statusEl.textContent = '✅ Notificación enviada correctamente al administrador.';
    } else {
      statusEl.textContent = '❌ Error al enviar la notificación. Intente de nuevo o contacte al soporte.';
      console.error('Telegram error', data);
    }
  }).catch(err => {
    statusEl.textContent = '❌ Error de red al enviar la notificación.';
    console.error(err);
  });
}
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
